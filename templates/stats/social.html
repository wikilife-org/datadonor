{% extends "stats/base.html"%}
{%block content%}
            <div class="wraper container-fluid">
                <div class="page-title"> 
                    <h3 class="title">Social</h3> 
                </div>

                <div class="row">
                    <div class="col-lg-3 col-sm-6">
                        <div class="widget-panel widget-style-2 bg-pink" style="background-color:#797979 !important">
                            <i class="ion-android-social"></i> 
                            <h2 class="m-0 counter">{{count_logs}}</h2>
                            <div>Social Logs</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="widget-panel widget-style-2 bg-purple" style="background-color:#797979 !important">
                            <i class="ion-android-book"></i> 
                            <h2 class="m-0 counter">{{education_logs}}</h2>
                            <div>Education Logs</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="widget-panel widget-style-2 bg-info" style="background-color:#797979 !important">
                            <i class="ion-hammer"></i> 
                            <h2 class="m-0 counter">{{work_logs}}</h2>
                            <div>Work Logs</div>
                        </div>
                    </div>
                </div> <!-- end row -->



 <div class="row">
                
                    <div class="col-lg-6">
                        <div class="portlet"><!-- /primary heading -->
                            <div class="portlet-heading">
                                <h3 class="portlet-title text-dark text-uppercase">
                                    SOCIAL INFLUENCE AND REACH
                                </h3>
                                <div class="portlet-widgets">
                                    <a href="javascript:;" data-toggle="reload"><i class="ion-refresh"></i></a>
                                    <span class="divider"></span>
                                    <a data-toggle="collapse" data-parent="#accordion1" href="#portlet1"><i class="ion-minus-round"></i></a>
                                    <span class="divider"></span>
                                    <a href="#" data-toggle="remove"><i class="ion-close-round"></i></a>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div id="portlet1" class="panel-collapse collapse in">
                                <div class="portlet-body">
                                    <div id="morris-bar-example"  style="height: 320px;"></div>

                                    <div class="row text-center m-t-30 m-b-30">
          
                                        <div class="col-sm-3 col-xs-6">
                                            <h4>{{count_logs}} users</h4>
                                            <small class="text-muted">Based on</small>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div> <!-- /Portlet -->
                    </div>
                    <div class="col-lg-6">
                        <div class="portlet"><!-- /primary heading -->
                            <div class="portlet-heading">
                                <h3 class="portlet-title text-dark">
                                    Social sharing - Twitter Activity Avg. Weekly
                                </h3>
                                <div class="portlet-widgets">
                                    <a href="javascript:;" data-toggle="reload"><i class="ion-refresh"></i></a>
                                    <span class="divider"></span>
                                    <a data-toggle="collapse" data-parent="#accordion1" href="#portlet3"><i class="ion-minus-round"></i></a>
                                    <span class="divider"></span>
                                    <a href="#" data-toggle="remove"><i class="ion-close-round"></i></a>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div id="portlet3" class="panel-collapse collapse in">
                                <div class="portlet-body">
                                    <div id="morris-donut-example" style="height: 300px;"></div>
                                </div>
                            </div>
                        </div> <!-- /Portlet -->
                    </div>

                
                </div>




          
 <div class="row">
                

                    <div class="col-lg-6">
                        <div class="portlet"><!-- /primary heading -->
                            <div class="portlet-heading">
                                <h3 class="portlet-title text-dark">
                                    Social sharing - Facebook Activity Avg. Weekly
                                </h3>
                                <div class="portlet-widgets">
                                    <a href="javascript:;" data-toggle="reload"><i class="ion-refresh"></i></a>
                                    <span class="divider"></span>
                                    <a data-toggle="collapse" data-parent="#accordion1" href="#portlet3"><i class="ion-minus-round"></i></a>
                                    <span class="divider"></span>
                                    <a href="#" data-toggle="remove"><i class="ion-close-round"></i></a>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div id="portlet3" class="panel-collapse collapse in">
                                <div class="portlet-body">
                                    <div id="morris-donut-example-1" style="height: 300px;"></div>
                                </div>
                            </div>
                        </div> <!-- /Portlet -->
                    </div>

                <div class="col-lg-6">
                        <div class="portlet"><!-- /primary heading -->
                            <div class="portlet-heading">
                                <h3 class="portlet-title text-dark">
                                    Education Degree - Distribution
                                </h3>
                                <div class="portlet-widgets">
                                    <a href="javascript:;" data-toggle="reload"><i class="ion-refresh"></i></a>
                                    <span class="divider"></span>
                                    <a data-toggle="collapse" data-parent="#accordion1" href="#portlet3"><i class="ion-minus-round"></i></a>
                                    <span class="divider"></span>
                                    <a href="#" data-toggle="remove"><i class="ion-close-round"></i></a>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div id="portlet3" class="panel-collapse collapse in">
                                <div class="portlet-body">
                                    <div id="morris-donut-example-2" style="height: 300px;"></div>
                                </div>
                            </div>
                        </div> <!-- /Portlet -->
                    </div>
                </div>     

            </div>
{% endblock %}

{% block scripts %}


        
        <!--Morris Chart-->
        <script src="/static/stats/assets/morris/morris.min.js"></script>
        <script src="/static/stats/assets/morris/raphael.min.js"></script>

        
        <script type="text/javascript">
          /* ==============================================
             Counter Up
             =============================================== */
            jQuery(document).ready(function($) {
                $('.counter').counterUp({
                    delay: 100,
                    time: 1200
                });
            });
        
            !function($) {
                "use strict";

                var Dashboard = function() {
                    this.$body = $("body")
                };
                
                
                //initializing various charts and components
                Dashboard.prototype.init = function() {
                    /**
                    * Morris charts
                    */

                    //Line chart
                    

                  //Bar chart Miles
                    Morris.Bar({
                        element: 'morris-bar-example',
                        data: 
                                {{global_reach|safe}}
                       ,
                        xkey: 'x',
                        ykeys: ['y'],
                        labels: ['Reach Avg.'],
                        barColors: function (row, series, type) {
                        	console.log("--> "+row.label, series, type);
                        	if(row.label == "Facebook") return "#45B6E1";
                        	else if(row.label == "Twitter") return "#7D7AB6";
                        	else if(row.label == "Google Plus") return "#F06088";
                        	else if(row.label == "Foursquare") return "#58C386";
                        	else if(row.label == "Linkedin") return "#1A2942";
                        	
                        	}
                        
                    });

                },
                //init dashboard
                $.Dashboard = new Dashboard, $.Dashboard.Constructor = Dashboard
                

            }(window.jQuery),

            //initializing dashboad
            function($) {
                "use strict";
                $.Dashboard.init()
            }(window.jQuery);
            
            
            !function($) {
                "use strict";

              
                var MorrisCharts = function() {};
                MorrisCharts.prototype.createBarChart  = function(element, data, xkey, ykeys, labels, lineColors) {
                    Morris.Bar({
                        element: element,
                        data: data,
                        xkey: xkey,
                        ykeys: ykeys,
                        labels: labels,
                        barColors: lineColors
                    });
                },
                //creates Donut chart
                MorrisCharts.prototype.createDonutChart = function(element, data, colors) {
                    Morris.Donut({
                        element: element,
                        data: data,
                        colors: colors
                    });
                },
                MorrisCharts.prototype.init = function() {

            
             
                    //creating bar chart
                    var $barData  = [
                        { y: 'Twitter', a: {{global_sharing.twitter.tweets}}, b: {{global_sharing.twitter.retweets}} },
                        

                    ];
                    this.createBarChart('morris-donut-example', $barData, 'y', ['a', 'b', ], ['Tweet', 'Retweet'], ['#45B6E1', '#F06088']);
                    
                    //creating bar chart
                    var $barData  = [
                        { y: 'Facebook', a: {{global_sharing.facebook.posts}}, b: {{global_sharing.facebook.likes}} },
                        

                    ];
                    this.createBarChart('morris-donut-example-1', $barData, 'y', ['a', 'b', ], ['Post', 'Likes'], ['#58C386', '#7D7AB6']);

                    //creating donut chart
                    var $donutData1 = [ {label: "Elementary School", value: ({{ global_education.0.percentage }} ).toFixed(1)},
                                       {label: "Junior College", value: ({{ global_education.1.percentage }}).toFixed(1) },
                                       {label: "High School", value:( {{ global_education.2.percentage }} ).toFixed(1)},
                                       {label: "Technical Institute", value:( {{ global_education.3.percentage }}).toFixed(1) },
                                       {label: "University", value: ({{ global_education.4.percentage }} ).toFixed(1)},
                                       {label: "Master", value: ({{ global_education.5.percentage }} ).toFixed(1) },
                                       {label: "PhD", value: ( {{ global_education.6.percentage }} ).toFixed(1) },

                            
         
                        ];
                    this.createDonutChart('morris-donut-example-2', $donutData1, ['#45B6E1', '#58C386', '#1a2942', '#F06088','#45B6E1', '#58C386', '#1a2942',]);
                },




      
  
                $.MorrisCharts = new MorrisCharts, $.MorrisCharts.Constructor = MorrisCharts
                
            }(window.jQuery),

            //initializing 
            function($) {
                "use strict";
                $.MorrisCharts.init();
            }(window.jQuery);
            
            
            
   

        </script>
{% endblock %}